!function(){const e=document.getElementById("fileButton"),t=document.getElementById("fileInput"),n=document.getElementById("fileName"),d=document.getElementById("closeButton"),o=document.querySelector(".resized__select"),c=document.querySelector(".resized__initial-size"),l=document.querySelector(".resized__new-size"),i=document.querySelector(".resized-wrapper-img");let a;const r={black:3.92,dog:120,forest:162},s=()=>{i.textContent="",t.value="",n.value="Файл не выбран"},m=e=>{c.innerHTML=`Изначальный вес: ${e} кб`},u=e=>{a&&a.remove(),a=document.createElement("img"),a.src=e,a.classList.add("resized-img"),i.insertBefore(a,i.firstElementChild)};u(`./img/${o.value}.jpg`);const g=()=>`./img/${o.value}.jpg`;m(r.black),e.addEventListener("click",(()=>t.click())),t.addEventListener("change",(e=>{(()=>{const e=t.files.length>0?t.files[0].name:"Файл не выбран";n.value=e})(),(e=>{const t=e.target.files[0];t&&(e=>{const t=new FileReader;t.onload=t=>{i.textContent="",u(t.target.result),m(e.size/1e3)},t.readAsDataURL(e)})(t)})(e)})),d.addEventListener("click",(()=>{s(),m(r[o.value]),u(g())})),o.addEventListener("change",(()=>{const e=o.value;m(r[e]),s(),u(g())})),document.getElementById("downloadButton").addEventListener("click",(()=>{const e=(()=>{const e=document.getElementById("resizedWidth").value,t=document.getElementById("resizedHeight").value,n=document.createElement("canvas"),d=n.getContext("2d");n.width=e,n.height=t,d.drawImage(a,0,0,e,t);const o=n.toDataURL(format);return n.toBlob((e=>{l.innerHTML=`Новый вес: ≈ ${e.size/1e3} кб`}),format),o})(),t=document.createElement("a");t.href=e,t.download="resized_image",document.body.appendChild(t),t.click(),document.body.removeChild(t)}))}();