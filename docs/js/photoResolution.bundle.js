!function(){const e=document.getElementById("fileButton"),t=document.getElementById("fileInput"),n=document.getElementById("fileName"),d=document.getElementById("closeButton"),c=document.querySelector(".resized__select"),o=document.querySelector(".resized__initial-size"),l=document.querySelector(".resized__new-size"),i=document.querySelector("#resized-img"),a="image/jpeg",r={black:3.92,dog:120,forest:162},s=()=>{t.value="",n.value="Файл не выбран"},u=e=>{o.innerHTML=`Изначальный вес: ${e} кб`},m=e=>{i.src=e},g=()=>`./img/${c.value}.jpg`;u(r.black),e.addEventListener("click",(()=>t.click())),t.addEventListener("change",(e=>{(()=>{const e=t.files.length>0?t.files[0].name:"Файл не выбран";n.value=e})(),(e=>{const t=e.target.files[0];t&&(e=>{const t=new FileReader;t.onload=t=>{m(t.target.result),u(e.size/1e3)},t.readAsDataURL(e)})(t)})(e)})),d.addEventListener("click",(()=>{s(),u(r[c.value]),m(g())})),c.addEventListener("change",(()=>{const e=c.value;u(r[e]),s(),m(g())})),document.getElementById("downloadButton").addEventListener("click",(()=>{const e=(()=>{const e=document.getElementById("resizedWidth").value,t=document.getElementById("resizedHeight").value,n=document.createElement("canvas"),d=n.getContext("2d");n.width=e,n.height=t,d.drawImage(i,0,0,e,t);const c=n.toDataURL(a);return n.toBlob((e=>{l.innerHTML=`Новый вес: ≈ ${e.size/1e3} кб`}),a),c})(),t=document.createElement("a");t.href=e,t.download="resized_image",document.body.appendChild(t),t.click(),document.body.removeChild(t)}))}();