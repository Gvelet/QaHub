!function(){class e{constructor(){this.LATIN_WORDS=["lorem","ipsum","dolor","sit","amet","consectetur","adipiscing","elit","sed","do","eiusmod","tempor","incididunt","ut","labore","et","dolore","magna","aliqua","enim","ad","minim","veniam","quis","nostrud","exercitation","ullamco","laboris","nisi","aliquip","ex","ea","commodo","consequat","duis","aute","irure","reprehenderit","voluptate","velit","esse","cillum","fugiat","nulla","pariatur","proident","culpa","officia","deserunt","mollit","anim","id","est","laborum"],this.CYRILLIC_WORDS=["преимущество","возможность","решение","система","процесс","уровень","показатель","результат","клиент","проект","команда","анализ","разработка","реализация","контроль","качество","оптимизация","интеграция","платформа","интерфейс","функционал","настройка","автоматизация","тестирование","отчётность","безопасность","масштабируемость","производительность","надежность","доступность","инновация","персонализация","локализация","модернизация","стандартизация","сервис"],this.CLASSIC_LOREM="Lorem Ipsum is simply dummy text of the printing and typesetting industry",this.init()}init(){this.elements={type:document.getElementById("lorem-type"),count:document.getElementById("lorem-count"),language:document.getElementById("lorem-language"),sentenceLength:document.getElementById("lorem-sentenceLength"),sentenceLengthValue:document.getElementById("lorem-sentenceLengthValue"),classicStart:document.getElementById("lorem-classicStart"),htmlWrap:document.getElementById("lorem-htmlWrap"),lists:document.getElementById("lorem-lists"),generateBtn:document.getElementById("lorem-generateBtn"),clearBtn:document.getElementById("lorem-clearBtn"),copyBtn:document.getElementById("lorem-copyBtn"),result:document.getElementById("lorem-result"),resultContainer:document.getElementById("lorem-resultContainer"),stats:document.getElementById("lorem-stats"),copySuccess:document.getElementById("lorem-copySuccess"),previewMode:document.getElementById("lorem-previewMode")},this.bindEvents(),this.toggleSentenceLength(),this.toggleClassicStart(),setTimeout((()=>this.generateLorem()),500)}bindEvents(){this.elements.sentenceLength.addEventListener("input",(e=>{this.elements.sentenceLengthValue.textContent=`${e.target.value} слов`})),this.elements.htmlWrap.addEventListener("change",(()=>{if(this.elements.htmlWrap.checked){this.elements.lists.checked=!1,this.elements.lists.disabled=!0;const e=this.elements.lists.closest(".lorem-checkbox-item");e&&e.classList.add("disabled")}else{this.elements.lists.disabled=!1;const e=this.elements.lists.closest(".lorem-checkbox-item");e&&e.classList.remove("disabled")}})),this.elements.lists.addEventListener("change",(()=>{if(this.elements.lists.checked){this.elements.htmlWrap.checked=!1,this.elements.htmlWrap.disabled=!0;const e=this.elements.htmlWrap.closest(".lorem-checkbox-item");e&&e.classList.add("disabled")}else{this.elements.htmlWrap.disabled=!1;const e=this.elements.htmlWrap.closest(".lorem-checkbox-item");e&&e.classList.remove("disabled")}})),this.elements.generateBtn.addEventListener("click",(()=>this.generateLorem())),this.elements.clearBtn.addEventListener("click",(()=>this.clearResult())),this.elements.copyBtn.addEventListener("click",(()=>this.copyToClipboard())),this.elements.type.addEventListener("change",(()=>{this.toggleSentenceLength(),this.toggleClassicStart()})),this.elements.count.addEventListener("input",(()=>{this.toggleClassicStart()})),this.elements.resultContainer.addEventListener("dragover",(e=>{e.preventDefault(),this.elements.resultContainer.classList.add("dragover")})),this.elements.resultContainer.addEventListener("dragleave",(()=>{this.elements.resultContainer.classList.remove("dragover")})),this.elements.resultContainer.addEventListener("drop",(e=>{e.preventDefault(),this.elements.resultContainer.classList.remove("dragover")}))}toggleSentenceLength(){const e="words"===this.elements.type.value,t=this.elements.sentenceLength.closest(".lorem-form-group");e?(this.elements.sentenceLength.disabled=!0,t.classList.add("sentence-length-disabled"),this.elements.sentenceLengthValue.style.opacity="0.5"):(this.elements.sentenceLength.disabled=!1,t.classList.remove("sentence-length-disabled"),this.elements.sentenceLengthValue.style.opacity="1")}toggleClassicStart(){const e="words"===this.elements.type.value,t=parseInt(this.elements.count.value);e&&t<12?(this.elements.classicStart.checked=!1,this.elements.classicStart.disabled=!0):this.elements.classicStart.disabled=!1}generateLorem(){const e={type:this.elements.type.value,count:parseInt(this.elements.count.value),language:this.elements.language.value,sentenceLength:parseInt(this.elements.sentenceLength.value),classicStart:this.elements.classicStart.checked,htmlWrap:this.elements.htmlWrap.checked,lists:this.elements.lists.checked};let t="";switch(e.type){case"words":t=this.generateWords(e.count,e);break;case"sentences":t=this.generateSentences(e.count,e);break;default:t=this.generateParagraphs(e.count,e)}this.elements.result.value=t,this.updateStats(t),this.elements.previewMode.textContent=e.htmlWrap||e.lists?"HTML":"Текст"}generateWords(e,t){let s=this.getWordPool(t.language,e);if(t.classicStart&&e>=5){const t=["Lorem","ipsum","dolor","sit","amet"],n=s.slice(0,e-t.length);s=t.concat(n)}const n=s.slice(0,e).join(" ");return this.wrapHtml(n,t)}generateSentences(e,t){const s=[];for(let n=0;n<e;n++)0===n&&t.classicStart?s.push(this.CLASSIC_LOREM):s.push(this.generateSentence(t));const n=s.join(". ");return this.wrapHtml(n,t)}generateParagraphs(e,t){const s=[];for(let n=0;n<e;n++){let e;e=0===n&&t.classicStart?this.CLASSIC_LOREM+" "+this.generateParagraphContent(t):this.generateParagraphContent(t),s.push(e)}return this.wrapHtml(s.join("\n\n"),t)}generateSentence(e){const t=e.sentenceLength;let s=this.getWordPool(e.language,t).slice(0,t).join(" ");return s=s.charAt(0).toUpperCase()+s.slice(1),s}generateParagraphContent(e){const t=Math.floor(4*Math.random())+3,s=[];for(let n=0;n<t;n++)s.push(this.generateSentence(e));return s.join(". ")}getWordPool(e,t){let s;switch(e){case"latin":s=[...this.LATIN_WORDS];break;case"cyrillic":s=[...this.CYRILLIC_WORDS];break;default:s=[...this.LATIN_WORDS,...this.CYRILLIC_WORDS]}for(let e=s.length-1;e>0;e--){const t=Math.floor(Math.random()*(e+1));[s[e],s[t]]=[s[t],s[e]]}for(;s.length<t;)s=s.concat(s);return s}wrapHtml(e,t){if(!t.htmlWrap&&!t.lists)return e;const s=e.split("\n\n");return t.lists?`<ul>\n${s.slice(0,10).map((e=>`<li>${e.trim()}</li>`)).join("\n")}\n</ul>`:s.map((e=>`<p>${e.trim()}</p>`)).join("\n")}updateStats(e){const t=e.replace(/<[^>]*>/g,"").trim(),s=t.split(/\s+/).filter((e=>e.length>0)),n=t.length;this.elements.stats.textContent=`${n} символов | ${s.length} слов`}clearResult(){this.elements.result.value="",this.elements.stats.textContent="0 символов | 0 слов",this.elements.previewMode.textContent="Предпросмотр"}async copyToClipboard(){const e=this.elements.result.value;if(e)try{await navigator.clipboard.writeText(e),this.showCopySuccess()}catch(t){this.fallbackCopyTextToClipboard(e)}}showCopySuccess(){const e=this.elements.copySuccess;e.classList.add("show"),setTimeout((()=>e.classList.remove("show")),2e3)}fallbackCopyTextToClipboard(e){const t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.focus(),t.select();try{document.execCommand("copy"),this.showCopySuccess()}catch(e){console.error("Fallback: Oops, unable to copy")}document.body.removeChild(t)}}document.addEventListener("DOMContentLoaded",(()=>{new e}))}();